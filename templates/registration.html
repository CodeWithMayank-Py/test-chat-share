<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login and Registration Form</title>
  <link rel="stylesheet" href="/static/css/registration.css">
</head>
<body>
  <section>
    <div class="container">
      <div class="user signinBx">
        <div class="imgBx"><img src="signin.jpeg" alt="Sign In Image" /></div>
        <div class="formBx">
          <form action="/signin" method="post">
            <h2>Sign In</h2>
            <input type="email" name="email" placeholder="Email" required />
            <input type="password" name="password" placeholder="Password" required />
            <input type="submit" value="Login" />
            <p class="signup">
              Don't have an account ?
              <a href="#" onclick="toggleForm();">Sign Up.</a>
            </p>
          </form>
        </div>
      </div>
      <div class="user signupBx">
        <div class="formBx">
          <form action="/signup" method="post">
            <h2>Create an account</h2>
            <input type="text" name="name" placeholder="Name" required />
            <input type="email" name="email" placeholder="Email Address" required />
            <div class="password-container">
              <input type="password" name="password" id="password" placeholder="Create Password" required />
              <span class="toggle-password" onclick="togglePasswordVisibility('password')">üîí</span>
            </div>
            <input type="password" name="confirm_password" id="confirm_password" placeholder="Confirm Password" required />
            <p id="passwordError" style="color: red; display: none;">Passwords do not match!</p>
            <input type="submit" value="Sign Up" />
            <p class="signup">
              Already have an account ?
              <a href="#" onclick="toggleForm();">Sign in.</a>
            </p>
          </form>
        </div>
        <div class="imgBx"><img src="signup.jpeg" alt="Sign Up Image" /></div>
      </div>
    </div>
  </section>

  <script>
    const toggleForm = () => {
      const container = document.querySelector('.container');
      container.classList.toggle('active');
    };
    
    // Function to validate password
  const validatePassword = () => {
    const password = document.getElementById('password').value;
    const confirm_password = document.getElementById('confirm_password').value;
    const passwordError = document.getElementById('passwordError');

    if (password !== confirm_password) {
      passwordError.style.display = 'block'; // Show error message
      return false; // Prevent form submission
    } else {
      passwordError.style.display = 'none'; // Hide error message
      return true; // Proceed with form submission
    }
  };

  // Function to check password instantly when user types in confirm password field
  const checkPasswordInstantly = () => {
    const password = document.getElementById('password').value;
    const confirm_password = document.getElementById('confirm_password').value;
    const passwordError = document.getElementById('passwordError');

    if (password !== confirm_password) {
      passwordError.style.display = 'block'; // Show error message
    } else {
      passwordError.style.display = 'none'; // Hide error message
    }
  };

  // Add event listener to confirm password input field
  document.getElementById('confirm_password').addEventListener('input', checkPasswordInstantly);

  const togglePasswordVisibility = (inputId) => {
    const passwordInput = document.getElementById(inputId);
    const eyeIcon = document.querySelector(`span.toggle-password[onclick="togglePasswordVisibility('${inputId}')"]`);

    if (passwordInput.type === "password") {
      passwordInput.type = "text";
      eyeIcon.textContent = "üëÅÔ∏è";
    } else {
      passwordInput.type = "password";
      eyeIcon.textContent = "üîí";
    }
  };
  </script>
</body>
</html>
